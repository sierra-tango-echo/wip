debug: true

#
# BASE
#
cluster: '<%= answer.cluster_name %>'
root_password: '<%= answer.root_password %>'
publickey: '<%= answer.publickey %>'
privatekey: |
  ----BEGIN RSA PRIVATE KEY-----
  MIIEowIBAAKCAQEA5DZT7fz8lnDsOwmleOLIuUWMTu/v4XCDyI64MEJsct1ZnTtm
  XoGIpDdbqlyox2ZPUNCqF1rZMZpyQ8DIRHZc2r4QhG88wKbac9NCbi0sMFhnlr4e
  Bon5GrJuTADJtfb8dy0J/kZ/hxpcxww81Ca/R5P1UBGqyoAQaPEDYHDAOUwgsj8d
  hRg8SHynR7bSLz8IvgRe+8pb5tskEDHxnXyvCByRbQQBogB42+9UrLHj9cmJ9h5d
  I0h7q4trKfib7EtDioUviJvo6J8/018QnUfJimd18q6rVcoRK4cFUiHxAoABafvB
  UJSLyv2eW8w1baqejqXItFDNwktT+H6P7ixMEQIDAQABAoIBAQClGdzMf0tpt1Zg
  O9FXzJI032jrrtBXw6PDk+UTHOsCirsLcm7UDliBnX8WmCSO5aiaKev0K4iYR0lF
  VRJN3We95OVkOmm0YsIGK5+Sv+GJNFv1BaQJTQZH1zDOkX9cwsvRmGbza6NVZbAb
  XPIg9ctKiHNgMvfhupakpUCxI8EdcWUkTAXy7YNR7FxQcrgtRL7ebvB87wJExzNE
  M0KHcYO2f2OExb5owshGqy7ek7uk3cslZgqRzhYqwXyRc2kRAGqCpCsdEop4dTAM
  ygh+v1KyXmCaUYPJ8F+k740GR9KTuvGlQQBPnj1ANgFmSyfeT5n4Gd/WgQ9wLcIA
  o1yNoV8xAoGBAPagbk2Jnn8OnCj0Bnlkruf9p2aoISR3dCUBG9aG8LSTg+XfMiBL
  Ip18y7/HpoV0EKTn/fXY58Zxwe63+I0qVM6Y155oCCwg/F1SQGLLsoqrbf++qBcr
  L+MH1zDl43+WUn0tnOd0WBs0WkL52HrX352Ew1oMiiOi3Cg+FWdowrfdAoGBAOzi
  u3psneAyBce6FQqlduKakZOR6bi9gcmoNZ4ybywBXjYNW1YTg5GN9FLQLZKsESyc
  pau06hmqYF6b2GxscIn+8MjvC5LHN4rupp9jKsBl4e50Pr4L/KwZdvxJiEDMXrrO
  XaTXMg1YgDhSrJzrI1+5M+HIsOvvMJzhZyuX6pvFAoGAe4LK2tAB7VWuxR+4olDW
  +13f2Rx4RKACLYoJm/1GTNjXpGaL3vph4oceLvRYo9sFfuCkIdw37v0Hh3rg4imC
  AVkwGqe0+Ayo9j97+T5UMvg5hWvBGKFLQSKrFVT8AuiQdRpDyvJMMYudbI9dZ9/2
  oBdeEhnXkJM+OHUnGPuxEI0CgYAaEHyGZOseHwLpzfzAtiIVnuJDtXtc+2ULdjmo
  FW6MDf56vg99shn46wCmGAfbqpkdKoNEGFzlxAxkfItcqrXbSTTfNwYz+T2QSOAG
  i5fJoawxW5MHwDPmD8s6yTB3yMTnkwtUtuTn+QPqrpYVkf3La4pc3oMxApl7uYVr
  k4SZ7QKBgBhfucDxu7E+xpeV4L9bX4WAk7VeEqR029XvA/UAtQtWab2YyuwwBfU4
  31QuBY93NR7ETDiN+meED0W4r6w0Ekml84/fBKi5g5Fca+MtNPKHwX/1ZvAfctT/
  hK2AdQk+3uqwrknwuNrx8tbeZonPTwiN98m/2JgrnWZ816uAQlul
  -----END RSA PRIVATE KEY-----
role: '<%=answer.role%>'


# PLATFORM: CLOUD
domaincloudID: vpc-0123456789 #this needs to be internal to something and set each time the domain is created
platform: aws  #this needs to be internal so that each platform type for a node can be rendered against
renderedurl: https://s3-eu-west-1.amazonaws.com/stevenorledge/rendered/<%=config.platform%>/<%=node.name%>/
nodescripturl: <%= config.renderedurl %>deployment/main.sh


# 
# NETWORKS
# 
domain: '<%= answer.domain %>'

domainnetwork: '10.10.0.0'
domainnetmask: '255.255.0.0'

internaldns: 10.10.0.1
searchdomains: "<%= config.networks.network1.domain %> <%= config.domain %>"

networks:
  network1:
    defined: true
    domain:  'pri'
    interface: 'em1'
    short_hostname: '<%= node.name %>.<%= config.networks.network1.domain %>'
    hostname: '<%= config.networks.network1.short_hostname %>.<%= config.domain %>' 
    ip: "10.10.<%= node.group.index %>.<%= node.index.to_i + 100 %>"
    netmask: 255.255.224.0
    network: 10.10.0.0 
    gateway: 10.10.0.1
    cloudID: subnet-12345678987654321   #this needs to be internal to something and set each time the domain is created
    primary: true
  network2:
    defined: <%= answer.network2_defined %>
    domain: 'mgt' 
    interface: 'em2'
    short_hostname: '<%= node.name %>.<%= config.networks.network2.domain %>'
    hostname: '<%= config.networks.network2.short_hostname %>.<%= config.domain %>' 
    ip: "10.10.<%= node.group.index.to_i + 32 %>.<%= node.index.to_i + 100 %>"
    netmask: 255.255.224.0
    network: 10.10.32.0
    cloudID: subnet-12345678987654321   #this needs to be internal to something and set each time the domain is created
  network3:
    defined: <%= answer.network3_defined %>
    domain: 'ib' 
    interface: 'ib0'
    short_hostname: '<%= node.name %>.<%= config.networks.network3.domain %>'
    hostname: '<%= config.networks.network3.short_hostname %>.<%= config.domain %>' 
    ip: "10.10.<%= node.group.index.to_i + 64 %>.<%= node.index.to_i + 100 %>"
    netmask: 255.255.224.0
    network: 10.10.64.0
    cloudID: subnet-12345678987654321   #this needs to be internal to something and set each time the domain is created

external:
  defined: <%= if config.role == 'login' then true else false end %>
